{"version":3,"sources":["api/api.js","redux/dialogsReducer.ts","components/Navbar/Sidebar/Sidebar.module.css","components/Navbar/Sidebar/Sidebarfriends/Sidebarfriends.module.css","components/Dialogs/DialogItem/Avatar/Avatar.module.css","asets/svg/Double Ring-2.2s-200px.svg","components/common/Error/Error404.module.css","asets/svg/868843.svg","components/Dialogs/Message/Message.jsx","components/Dialogs/Dialogs.jsx","components/Navbar/Navbar.module.css","components/common/FormControls/FormControls.jsx","utils/validators/validators.js","components/Users/Users.module.css","redux/authReducer.ts","redux/sidebarReducer.ts","components/Navbar/Sidebar/Sidebarfriends/Sidebarfriends.jsx","components/Navbar/Sidebar/Sidebar.jsx","components/Navbar/Sidebar/SidebarContainer.jsx","components/Navbar/Navbar.jsx","components/Settings/Settings.jsx","components/News/News.jsx","utils/objectsHelpers.js","redux/usersReducer.ts","components/common/Paginator/Paginator.js","components/Users/User.jsx","components/Users/Users.jsx","redux/usersSelectors.js","components/Users/UsersContainer.jsx","components/Music/Music.jsx","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","redux/reduxstore.js","hoc/withSuspense.js","components/common/Error/Error404.jsx","App.js","serviceWorker.js","index.js","components/Dialogs/Dialogs.module.css","components/Header/Header.module.css","redux/appReducer.ts","components/common/FormControls/FormControls.module.css","components/common/Preloader/Preloader.jsx","asets/images/instami-avatarka-v-instagram-9.png","components/common/Paginator/Paginator.module.css","components/Dialogs/DialogItem/Avatar/Avatar.jsx","components/Dialogs/DialogItem/DialogItem.jsx","redux/profileReducer.ts","hoc/withAuthRedirect.js"],"names":["instance","axios","withCredentials","baseURL","headers","userAPI","getUsers","currentPage","pageSize","get","then","response","data","followAPI","deleteUser","id","delete","postUser","post","authAPI","authMe","login","email","password","rememberMe","captcha","logout","profileAPI","getUser","userId","getStatus","updateStatus","status","put","savePhoto","photoFile","formData","FormData","append","securityAPI","getCaptchaURL","initialState","messages","message","newMessageText","dialogs","name","ava","dialogsReducer","state","action","type","text","addMessageActionCreator","module","exports","Message","props","className","s","maxLength20","maxLengthCreator","MessageReduxForm","reduxForm","form","onSubmit","handleSubmit","Field","component","Textarea","validate","requiredField","Dialogs","dialogElements","map","d","DialogItem","key","messageElements","m","dialogsItems","addDialog","messageText","input","meta","touched","error","hasError","formControlError","Input","CreateField","placeholder","CreateFieldForProfile","value","maxLength","length","isAuth","smallPhoto","captchaUrl","authReducer","setAuthUserData","setUserSmallPhoto","LoginAC","dispatch","a","resultCode","photos","small","getCaptchaUrl","stopSubmit","_error","responsee","url","LogoutAC","friends","getRandomArbitrary","min","max","rand","Math","random","round","i","splice","Sidebarfriends","avatar","src","Sidebar","window","onload","addFriends","threefriends","wrapper","SidebarContainer","connect","sidebar","Navbar","nav","item","to","activeClassName","activeLink","active","Settings","News","updateObjectArray","items","itemId","objPropName","newObjProps","u","users","totalUsersCount","numberChange","isFetching","followingInProgress","follow","unFollow","setUsers","setTotalUsersCount","totalCount","toggleIsFetching","toggleIsFetchingProgress","followUnFollowFlow","apiMethod","actionCreator","Paginator","pagesCount","ceil","pages","push","useState","startOfBlock","setStartOfBlock","endOfBlock","setEndOfBlock","someBlock","editSomeBlock","maxLength4","SearchPageForm","onClick","newPages","filter","notActive","onPageChanged","current","initialValues","searchPage","User","user","margin","photo","large","userPhoto","city","button","followed","disabled","some","country","Users","usersPage","getUsersSuperSelector","createSelector","getPageSize","getTotalUsersCount","getCurrentPage","getNumberChange","getIsFetching","getFollowingInProgress","UsersAPIComponent","pageNumber","setCurrentPage","requestUsers","onNumberChange","e","target","searchNumber","this","Preloader","React","Component","compose","number","bind","Music","Header","header","loginBlock","HeaderContainer","auth","LoginReduxForm","formSummmayError","Login","console","log","withAuthRedirect","reducers","combineReducers","profilePage","profileReducer","dialogsPage","formReducer","app","appReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","__store__","withSuspense","fallback","Error404","DialogsContainer","lazy","ProfileContainer","App","catchAllUnhandledErrors","reason","initializeApp","addEventListener","removeEventListener","initialized","exact","path","render","UsersContainer","globalError","AppContainer","withRouter","letError","SamuraiJSApp","basename","process","env","PUBLIC_URL","Boolean","location","hostname","match","ReactDOM","document","getElementById","ER","thunkLetError","setTimeout","preloader","Avatar","dialog","posts","likesCount","profile","newPostText","newPost","stateCopy","p","postId","aboutMe","contacts","lookingForAJob","lookingForAJobDescription","addPostActionCreator","setStatus","updateProfile","getUserProfile","file","sendForm","fullName","github","vk","facebook","instagram","twitter","website","youtube","mainLink","undefined","Promise","reject","mapStateToPropsForRedirect","RedirectComponent"],"mappings":"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","file":"static/js/main.dc20aac2.chunk.js","sourcesContent":["import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n    headers: {\r\n        \"API-KEY\": \"aec09892-749d-4c42-b208-544b7f308b49\"\r\n    },\r\n});\r\nexport const userAPI = {\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => {\r\n                return response.data\r\n            });\r\n    }\r\n}\r\nexport const followAPI = {\r\n    deleteUser(id) {\r\n        return instance.delete(`follow/${id}`)\r\n            .then(response => {\r\n                return response.data\r\n            });\r\n    },\r\n    postUser(id) {\r\n        return instance.post(`follow/${id}`)\r\n            .then(response => {\r\n                return response.data\r\n            });\r\n    },\r\n}\r\n\r\nexport const authAPI = {\r\n    authMe() {\r\n        return instance.get(`auth/me`)\r\n            .then(response => {\r\n                return response.data\r\n            });\r\n    },\r\n    login(email, password, rememberMe = false, captcha=null) {\r\n        return instance.post(`auth/login`, {email, password, rememberMe, captcha})\r\n            .then(response => {\r\n                return response.data\r\n            });\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`)\r\n            .then(response => {\r\n                return response.data\r\n            });\r\n    }\r\n\r\n}\r\nexport const profileAPI = {\r\n    getUser(userId) {\r\n        return instance.get(`profile/` + userId)\r\n            .then(response => {\r\n                return response.data\r\n            });\r\n    },\r\n    getStatus(userId) {\r\n\r\n        return instance.get(`profile/status/${userId}`)\r\n            .then(response => {\r\n                return response.data\r\n            });\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status/`, {status: status})\r\n            .then(response => {\r\n                    return response.data\r\n                }\r\n            );\r\n    },\r\n    savePhoto(photoFile) {\r\n        const formData = new FormData();\r\n        formData.append(\"image\", photoFile)\r\n        return instance.put(`/profile/photo`, formData, {\r\n            headers: {\r\n                \"Content-Type\": \"multipart/form-data\"\r\n            }\r\n        }).then(response => {\r\n                return response.data\r\n            }\r\n        );\r\n    },\r\n    formData(formData) {\r\n        debugger\r\n        return instance.put(`/profile`,formData)\r\n            .then(response => {\r\n                debugger\r\n                return response.data\r\n            });\r\n    },\r\n\r\n}\r\nexport const securityAPI = {\r\n    getCaptchaURL() {\r\n        return instance.get(`security/get-captcha-url`)\r\n            .then(response => {\r\n                return response.data\r\n            });\r\n    },\r\n}","const ADD_MESSAGE = \"ADD-MESSAGE\";\r\ntype addMessageActionCreatorType={\r\n    type: typeof ADD_MESSAGE;\r\n    text: string;\r\n}\r\ntype MessageType={\r\n    id: number,\r\n    message: string | null,\r\n}\r\ntype DialogType={\r\n    id: number | null,\r\n    name: string | null,\r\n    ava: string | null,\r\n}\r\nlet initialState = {\r\n    messages: [\r\n        {id: 1, message: 'Hi'},\r\n        {id: 2, message: 'How is your it-kamasutra?'},\r\n        {id: 3, message: 'Yo'},\r\n    ] as Array<MessageType>,\r\n    newMessageText: \"\" as string,\r\n    dialogs: [\r\n        {\r\n            id: 1,\r\n            name: 'Dimych',\r\n            ava: \"https://s00.yaplakal.com/pics/pics_original/9/9/2/15045299.jpg\"\r\n        },\r\n        {id: 2, name: 'Andrey', ava: \"https://klike.net/uploads/posts/2018-06/1528720172_1.jpg\"},\r\n        {id: 3, name: 'Sveta', ava: \"https://klike.net/uploads/posts/2018-06/1528720227_2.png\"},\r\n        {id: 4, name: 'Sasha', ava: \"https://klike.net/uploads/posts/2018-06/1528720246_5.jpg\"},\r\n        {id: 5, name: 'Viktor', ava: \"https://klike.net/uploads/posts/2018-06/1528720305_6.jpg\"},\r\n        {id: 6, name: 'Valera', ava: \"https://klike.net/uploads/posts/2018-06/1528720257_8.jpg\"},\r\n        {\r\n            id: 7,\r\n            name: 'Sergey',\r\n            ava: \"https://klike.net/uploads/posts/2020-06/1591514917_7.jpg\"\r\n        },\r\n        {\r\n            id: 8,\r\n            name: 'Dimon',\r\n            ava: \"https://vjoy.cc/wp-content/uploads/2019/12/screenshot_3-min-13-640x570-1.png\"\r\n        },\r\n    ]as Array<DialogType>,\r\n};\r\nexport type initialStateType = typeof initialState;\r\n\r\nexport const dialogsReducer = (state = initialState, action: any): initialStateType => {\r\n    //let stateCopy= JSON.parse(JSON.stringify(state))\r\n    switch (action.type) {\r\n        case ADD_MESSAGE: {\r\n            return {\r\n                ...state,\r\n                newMessageText: '',\r\n                messages: [...state.messages, {id: 4, message: action.text}]\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const addMessageActionCreator = (text: string):addMessageActionCreatorType => {\r\n    return {\r\n        type: ADD_MESSAGE,\r\n        text,\r\n    }\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Sidebar_wrapper__SDCfj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"Sidebarfriends_avatar__1GGru\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"Avatar_avatar__4PJvH\"};","module.exports = __webpack_public_path__ + \"static/media/Double Ring-2.2s-200px.1a5e1cfb.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"Error404_error__3K_OV\"};","module.exports = __webpack_public_path__ + \"static/media/868843.6d8e81ad.svg\";","import React from 'react';\r\nimport s from './../Dialogs.module.css';\r\n\r\nconst Message = (props) => {\r\n    return (\r\n        <div className={s.message}>{props.message}</div>\r\n    )\r\n}\r\nexport default Message;","import React from 'react';\r\nimport s from './Dialogs.module.css';\r\nimport DialogItem from \"./DialogItem/DialogItem\";\r\nimport Message from \"./Message/Message\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {maxLengthCreator, requiredField} from \"../../utils/validators/validators\";\r\nimport {Textarea} from \"../common/FormControls/FormControls\";\r\nconst maxLength20 = maxLengthCreator(20)\r\nconst MessageForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field component={Textarea} name={'messageText'} validate={[requiredField, maxLength20]}/>\r\n            </div>\r\n            <div>\r\n                <button>Add message</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\nconst MessageReduxForm = reduxForm({\r\n    form: \"message\"\r\n})(MessageForm)\r\nconst Dialogs = (props) => {\r\n    const onSubmit=(formData)=>{\r\n        props.addDialog(formData.messageText);\r\n    }\r\n    let dialogElements = props.state.dialogs.map((d) => <DialogItem name={d.name} id={d.id} key={d.id} ava={d.ava}/>)\r\n    let messageElements = props.state.messages.map((m) => <Message message={m.message} key={m.id}/>)\r\n\r\n    return (\r\n        <div className={s.dialogs}>\r\n            <div className={s.dialogsItems}>\r\n                {dialogElements}\r\n            </div>\r\n            <div className={s.messages}>\r\n                {messageElements}\r\n                < MessageReduxForm onSubmit={onSubmit}/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Dialogs;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__3LCZV\",\"item\":\"Navbar_item__r53jG\",\"activeLink\":\"Navbar_activeLink__xML_-\",\"error\":\"Navbar_error__1vUJu\"};","import React from \"react\";\r\nimport s from './FormControls.module.css';\r\nimport {requiredField} from \"../../../utils/validators/validators\";\r\nimport {Field} from \"redux-form\";\r\n\r\nconst Textarea = ({input, meta:{touched, error}, ...props}) => {\r\n    const hasError = touched && error\r\n    return (\r\n        <div>\r\n            <div>\r\n                <textarea {...input} {...props} className={hasError ? s.formControlError : \"\"}/>\r\n            </div>\r\n            {hasError && <span className={s.error}>{error}</span>}\r\n        </div>\r\n    )\r\n}\r\nconst Input = ({input, meta:{touched, error}, ...props}) => {\r\n    const hasError = touched && error\r\n    return (\r\n        <div>\r\n            <div>\r\n                <input {...input} {...props} className={hasError ? s.formControlError : \"\"}/>\r\n            </div>\r\n            {hasError && <span className={s.error}>{error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nconst CreateField = (placeholder, name, validate, component, type, text=\"\") => {\r\n    return (\r\n        <div>\r\n            <Field placeholder={placeholder}\r\n                   component={component}\r\n                   name={name}\r\n                   validate={validate}\r\n                   type={type}\r\n            />{text}\r\n        </div>\r\n    )\r\n}\r\nconst CreateFieldForProfile = (placeholder, name, validate, component, type, text=\"\", value) => {\r\n    return (\r\n        <span>\r\n            <Field placeholder={placeholder}\r\n                   component={component}\r\n                   name={name}\r\n                   validate={validate}\r\n                   type={type}\r\n                   value={value}\r\n            />{text}\r\n        </span>\r\n    )\r\n}\r\n\r\nexport {Textarea, Input, CreateField, CreateFieldForProfile}\r\n\r\n","\r\nexport const requiredField = (value)=> {\r\n    if (value) return undefined;\r\n    return 'Field is required';\r\n}\r\n\r\nexport const maxLengthCreator=(maxLength)=>(value)=>{\r\n    if (value && value.length>maxLength) return `Max length is ${maxLength} symbols`;\r\n    return undefined;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"Users_userPhoto__-wuiL\",\"name\":\"Users_name__2bmY7\",\"button\":\"Users_button__2N4oX\",\"status\":\"Users_status__RtvUu\",\"photo\":\"Users_photo__1F6QW\",\"city\":\"Users_city__HEX6h\",\"country\":\"Users_country__BhW2t\",\"wrapper\":\"Users_wrapper__2vPFF\",\"selectedPage\":\"Users_selectedPage__eiYT-\"};","import {authAPI, profileAPI, securityAPI} from \"../api/api\";\r\nimport {setStatus} from \"./profileReducer\";\r\n\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = \"auth/SET-USER-DATA\";\r\nconst SET_USER_SMALL_PHOTO = \"auth/SET-USER-SMALL-PHOTO\";\r\nconst GET_CAPTCHA_URL_SUCCESS = \"GET-CAPTCHA-URL-SUCCESS\";\r\n\r\ntype InitialStateType = {\r\n    id: number | null,\r\n    email: string | null,\r\n    login: string | null,\r\n    isAuth: boolean,\r\n    smallPhoto: string | null,\r\n    captchaUrl: string | null,\r\n}\r\n\r\nlet initialState: InitialStateType = {\r\n    id: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    smallPhoto: null,\r\n    captchaUrl: null,\r\n};\r\n\r\nexport const authReducer = (state = initialState, action: any): InitialStateType => {\r\n    switch (action.type) {\r\n\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.data,\r\n            }\r\n        case SET_USER_SMALL_PHOTO:\r\n            return {\r\n                ...state,\r\n                smallPhoto: action.smallPhoto,\r\n            }\r\n        case GET_CAPTCHA_URL_SUCCESS:\r\n            return {\r\n                ...state,\r\n                captchaUrl: action.captchaUrl,\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\ntype SetAuthUserDataType = {\r\n    type: typeof SET_USER_DATA;\r\n    data: {\r\n        userId: number| null;\r\n        email: string| null;\r\n        login: string| null;\r\n        isAuth: boolean;\r\n    }\r\n}\r\nexport const setAuthUserData = (userId: number| null, email: string| null, login: string| null, isAuth: boolean): SetAuthUserDataType => {\r\n    return {type: SET_USER_DATA, data: {userId, email, login, isAuth}}\r\n};\r\ntype GetCaptchaUrlSuccessType = {\r\n    type: typeof GET_CAPTCHA_URL_SUCCESS;\r\n    captchaUrl: string;\r\n}\r\nexport const getCaptchaUrlSuccess = (captchaUrl: string): GetCaptchaUrlSuccessType => {\r\n    return {type: GET_CAPTCHA_URL_SUCCESS, captchaUrl}\r\n};\r\ntype SetUserSmallPhotoType = {\r\n    type: typeof SET_USER_SMALL_PHOTO;\r\n    smallPhoto: string;\r\n}\r\nexport const setUserSmallPhoto = (smallPhoto: string ): SetUserSmallPhotoType => {\r\n    return {type: SET_USER_SMALL_PHOTO, smallPhoto}\r\n};\r\n\r\ntype firstDataType = {\r\n    resultCode: number;\r\n    data: {\r\n        id: number;\r\n        login: string;\r\n        email: string;\r\n    }\r\n}\r\ntype secondDataType = {\r\n    photos: {\r\n        small:string;\r\n    };\r\n}\r\ntype thirdDataType = {\r\n     resultCode: number;\r\n}\r\n\r\nexport const authMe = () => (dispatch: any) => {\r\n    let id: number;\r\n    let login: string;\r\n    let email: string;\r\n    authAPI.authMe().then((data: firstDataType) => {\r\n        if (data.resultCode == 0) {\r\n            id = data.data.id;\r\n            login = data.data.login;\r\n            email = data.data.email;\r\n            dispatch(setAuthUserData(id, email, login, true));\r\n        }\r\n    }).then(() => {\r\n        profileAPI.getUser(id).then((data: secondDataType) => {\r\n            dispatch(setUserSmallPhoto(data.photos.small));\r\n        })\r\n    })\r\n};\r\nexport const LoginAC = (email: string, password: string, rememberMe: boolean, captcha: string) => async (dispatch: any) => {\r\n    let data = await authAPI.login(email, password, rememberMe, captcha);\r\n    if (data.resultCode == 0) dispatch(authMe());\r\n\r\n    else {\r\n        if (data.resultCode == 10) {\r\n            dispatch(getCaptchaUrl())\r\n        }\r\n        let message = data.messages.length > 0 ? data.messages[0] : \"some error\";\r\n        dispatch(stopSubmit('login', {_error: message}));\r\n    }\r\n};\r\n\r\nexport const getCaptchaUrl = () => async (dispatch: any) => {\r\n    let responsee = await securityAPI.getCaptchaURL();\r\n    let captcha = responsee.url;\r\n    dispatch(getCaptchaUrlSuccess(captcha));\r\n};\r\n\r\nexport const LogoutAC = () => async (dispatch:any) => {\r\n    let data = await authAPI.logout().then((data: thirdDataType) => {\r\n        if (data.resultCode == 0) dispatch(setAuthUserData(null, null, null, false));\r\n    });\r\n};\r\n","const ADD_THREE_FRIENDS = \"ADD-THREE-FRIENDS\";\r\ntype FriendsType={\r\n    id: number | null,\r\n    name: string | null,\r\n    ava: string | null,\r\n}\r\nlet initialState= {\r\n    friends: [\r\n        {\r\n            id: 1,\r\n            name: 'Dimych',\r\n            ava: \"https://s00.yaplakal.com/pics/pics_original/9/9/2/15045299.jpg\"\r\n        },\r\n        {id: 2, name: 'Andrey', ava: \"https://klike.net/uploads/posts/2018-06/1528720172_1.jpg\"},\r\n        {id: 3, name: 'Sveta', ava: \"https://klike.net/uploads/posts/2018-06/1528720227_2.png\"},\r\n        {id: 4, name: 'Sasha', ava: \"https://klike.net/uploads/posts/2018-06/1528720246_5.jpg\"},\r\n        {id: 5, name: 'Viktor', ava: \"https://klike.net/uploads/posts/2018-06/1528720305_6.jpg\"},\r\n        {id: 6, name: 'Valera', ava: \"https://klike.net/uploads/posts/2018-06/1528720257_8.jpg\"},\r\n        {\r\n            id: 7,\r\n            name: 'Sergey',\r\n            ava: \"https://klike.net/uploads/posts/2020-06/1591514917_7.jpg\"\r\n        },\r\n        {\r\n            id: 8,\r\n            name: 'Dimon',\r\n            ava: \"https://vjoy.cc/wp-content/uploads/2019/12/screenshot_3-min-13-640x570-1.png\"\r\n        },\r\n    ]as Array<FriendsType>,\r\n};\r\nexport type initialStateType = typeof initialState;\r\n\r\nfunction getRandomArbitrary(min: number, max: number) {\r\n    let rand = min - 0.5 + Math.random() * (max - min + 1);\r\n    return Math.round(rand);\r\n}\r\n\r\nfor (let i = initialState.friends.length; i > 3; i--) {\r\n    initialState.friends.splice(getRandomArbitrary(0, initialState.friends.length - 1), 1);\r\n}\r\n\r\nexport const sidebarReducer = (state=initialState, action: any): initialStateType => {\r\n    switch (action.type) {\r\n        case ADD_THREE_FRIENDS: {\r\n            return state;\r\n        }\r\n        default: return state;\r\n    }\r\n}\r\ntype AddThreeFriendsActionCreatorType = {\r\n    type: typeof ADD_THREE_FRIENDS;\r\n}\r\nexport const addThreeFriendsActionCreator = ():AddThreeFriendsActionCreatorType => {\r\n    return {\r\n        type: ADD_THREE_FRIENDS,\r\n    }\r\n}\r\n","import React from 'react';\r\nimport s from './Sidebarfriends.module.css';\r\n\r\nconst Sidebarfriends = (props) => {\r\n    return (\r\n        <div className={s.avatar}>\r\n            <img src={props.ava}/>\r\n            <div>{props.name}</div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Sidebarfriends;","import React from 'react';\r\nimport s from './Sidebar.module.css';\r\nimport Sidebarfriends from \"./Sidebarfriends/Sidebarfriends\";\r\nimport DialogItem from \"../../Dialogs/DialogItem/DialogItem\";\r\n\r\nconst Sidebar = (props) => {\r\n\r\n    window.onload=()=>{props.addFriends()}\r\n    let threefriends = props.threefriends.map((d) => <Sidebarfriends name={d.name} key={d.id}  ava={d.ava}/>)\r\n\r\n    return (\r\n        <div>\r\n           FRIENDS\r\n\r\n            <div className={s.wrapper}>\r\n                {threefriends}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Sidebar;","import React from 'react';\r\nimport {addThreeFriendsActionCreator} from \"../../../redux/sidebarReducer\";\r\nimport Sidebar from \"./Sidebar\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToProps=(state)=>{\r\n    return{\r\n        threefriends: state.sidebar.friends,\r\n    }\r\n}\r\n\r\nlet mapDispatchToProps=(dispatch)=>{\r\n    return{\r\n        addFriends:()=>{dispatch(addThreeFriendsActionCreator())},\r\n    }\r\n}\r\nconst SidebarContainer=connect(mapStateToProps, mapDispatchToProps)(Sidebar);\r\n\r\nexport default SidebarContainer;","import React from 'react';\r\nimport s from './Navbar.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport SidebarContainer from \"./Sidebar/SidebarContainer\";\r\n\r\n\r\n\r\nconst Navbar = (props) => {\r\n    return (\r\n        <nav className={s.nav}>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/profile\" activeClassName={s.activeLink}>Profile</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/users\" activeClassName={s.activeLink}>Users</NavLink>\r\n            </div>\r\n            <div className={`${s.active} ${s.item}`}>\r\n                <NavLink to=\"/dialogs\" activeClassName={s.activeLink}>Messages</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/news\" activeClassName={s.activeLink}>News</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/music\" activeClassName={s.activeLink}>Music</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/settings\" activeClassName={s.activeLink}>Settings</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <SidebarContainer />\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default Navbar;","import React from 'react';\r\nimport s from './Settings.module.css';\r\n\r\nconst Settings = (props) => {\r\n    return (\r\n        <div>\r\n        Settings\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Settings;","import React from 'react';\r\nimport s from './News.module.css';\r\n\r\nconst News = (props) => {\r\n    return (\r\n        <div>\r\n        News\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default News;","export const updateObjectArray=(items, itemId, objPropName, newObjProps)=> {\r\n    return items.map(u => {\r\n        if (u.objPropName === itemId) {\r\n            return {...u, ...newObjProps}\r\n        }\r\n        return u;\r\n    })\r\n}","import {followAPI, userAPI} from \"../api/api\";\r\nimport {updateObjectArray} from \"../utils/objectsHelpers\";\r\nimport {PhotosType, UsersType} from \"../types/types\";\r\n\r\nconst FOLLOW = \"FOLLOW\";\r\nconst UNFOLLOW = \"UNFOLLOW\";\r\nconst SET_USERS = 'SET-USERS';\r\nconst SET_CURRENT_PAGE = 'SET-CURRENT-PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET-TOTAL-USERS-COUNT';\r\nconst ON_NUMBER_CHANGE = 'ON-NUMBER-CHANGE';\r\nconst SEARCH_NUMBER = 'SEARCH-NUMBER';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE-IS-FETCHING';\r\nconst TOGGLE_IS_FETCHING_PROGRESS = 'TOGGLE-IS-FETCHING-PROGRESS';\r\n\r\n\r\nlet initialState = {\r\n    users: [\r\n        /*\r\n        {\r\n            id: 1,\r\n            ava: 'http://zhaba.ru/storage-10667/images-4356/7da28183c1ca335727f6033007c24c3f_74356.gif',\r\n            followed: true,\r\n            fullName: 'Andry',\r\n            status: 'Сижу кушаю',\r\n            location: {city: 'Dnipro', country: 'Ukraine'}\r\n        },\r\n        {\r\n            id: 2,\r\n            ava: 'http://zhaba.ru/storage-10667/images-4356/2ec52d3e31cc84526b5c1b8d332bb5f2_74356.gif',\r\n            followed: false,\r\n            fullName: 'Viktoriya',\r\n            status: 'на море',\r\n            location: {city: 'Poltava', country: 'Ukraine'}\r\n        },\r\n        {\r\n            id: 3,\r\n            ava: 'http://zhaba.ru/storage-10667/images-4356/54c86b4b33e968bb15eeea983d72a850_74356.gif',\r\n            followed: true,\r\n            fullName: 'Natalia',\r\n            status: 'в астрале',\r\n            location: {city: 'Dnipro', country: 'Ukraine'}\r\n        },\r\n        {\r\n            id: 4,\r\n            ava: 'http://zhaba.ru/storage-10667/images-4356/05f88dffdf9a406fe9b0bee9df3160a5_74356.gif',\r\n            followed: false,\r\n            fullName: 'Dmitry',\r\n            status: 'я Сенсей',\r\n            location: {city: 'Minsk', country: 'Belarus'}\r\n        },\r\n    */\r\n    ] as Array<UsersType>,\r\n    pageSize: 5 as number,\r\n    totalUsersCount: 0 as number,\r\n    currentPage: 1 as number,\r\n    numberChange: 0 as number,\r\n    isFetching: false as boolean,\r\n    followingInProgress: [] as Array<number>,///массив идшек юзеров\r\n};\r\nexport type initialStateType = typeof initialState;\r\nexport const usersReducer = (state = initialState, action: any): initialStateType => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectArray(state.users, action.userId, 'id', {followed: true})\r\n                /*users: state.users.map(u => {\r\n                    if (u.id === action.userId) {\r\n                        return {...u, followed: true}\r\n                    }\r\n                    return u;\r\n                })*/\r\n            }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectArray(state.users, action.userId, 'id', {followed: false})\r\n                /*users: state.users.map(u => {\r\n                    if (u.id === action.userId) {\r\n                        return {...u, followed: false}\r\n                    }\r\n                    return u;\r\n                })*/\r\n            }\r\n        case SET_USERS: {\r\n            return {\r\n                ...state, users: [...action.users]\r\n            }\r\n        }\r\n        case SET_CURRENT_PAGE: {\r\n            return {...state, currentPage: action.currentPage}\r\n        }\r\n        case SET_TOTAL_USERS_COUNT: {\r\n            return {...state, totalUsersCount: action.totalCount}\r\n        }\r\n        case ON_NUMBER_CHANGE: {\r\n            return {...state, numberChange: action.number}\r\n        }\r\n        case SEARCH_NUMBER: {\r\n            if (state.numberChange >= 1 && state.numberChange <= state.totalUsersCount / state.pageSize) {\r\n                return {...state, currentPage: state.numberChange}\r\n            } else {\r\n                return {...state, currentPage: 1}\r\n            }\r\n        }\r\n        case TOGGLE_IS_FETCHING: {\r\n            {\r\n                return {...state, isFetching: action.isFetching}\r\n            }\r\n        }\r\n        case TOGGLE_IS_FETCHING_PROGRESS: {\r\n            {\r\n                return {\r\n                    ...state,\r\n                    followingInProgress: action.isFetching\r\n                        ? [...state.followingInProgress, action.userId]\r\n                        : state.followingInProgress.filter(id => id != action.userId)\r\n                }\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n    //return state;\r\n}\r\ntype FollowType = {\r\n    type: typeof FOLLOW\r\n    userId: number\r\n}\r\nexport const follow = (userId: number): FollowType => {\r\n    return {\r\n        type: FOLLOW,\r\n        userId,\r\n    }\r\n}\r\ntype UnFollowType = {\r\n    type: typeof UNFOLLOW\r\n    userId: number\r\n}\r\nexport const unFollow = (userId: number): UnFollowType => {\r\n    return {\r\n        type: UNFOLLOW,\r\n        userId,\r\n    }\r\n}\r\ntype SetUsersType = {\r\n    type: typeof SET_USERS\r\n    users: Array<UsersType>\r\n}\r\nexport const setUsers = (users: Array<UsersType>): SetUsersType => {\r\n    return {type: SET_USERS, users}\r\n};\r\ntype SetCurrentPageType = {\r\n    type: typeof SET_CURRENT_PAGE\r\n    currentPage: number\r\n}\r\nexport const setCurrentPage = (currentPage: number): SetCurrentPageType => {\r\n    return {type: SET_CURRENT_PAGE, currentPage}\r\n};\r\ntype SetTotalUsersCountType = {\r\n    type: typeof SET_TOTAL_USERS_COUNT\r\n    totalCount: number\r\n}\r\nexport const setTotalUsersCount = (totalCount: number): SetTotalUsersCountType => {\r\n    return {type: SET_TOTAL_USERS_COUNT, totalCount}\r\n};\r\ntype OnNumberChangeType = {\r\n    type: typeof ON_NUMBER_CHANGE\r\n    number: any\r\n}\r\nexport const onNumberChange = (number: any): OnNumberChangeType => {////////////////////////////////xzxzxzxzxzx\r\n    return {type: ON_NUMBER_CHANGE, number}\r\n};\r\ntype SearchNumberType = {\r\n    type: typeof SEARCH_NUMBER\r\n}\r\n\r\nexport const searchNumber = (): SearchNumberType => {\r\n    return {type: SEARCH_NUMBER}\r\n};\r\ntype ToggleIsFetchingType = {\r\n    type: typeof TOGGLE_IS_FETCHING\r\n    isFetching: boolean\r\n}\r\nexport const toggleIsFetching = (isFetching: boolean): ToggleIsFetchingType => {\r\n    return {type: TOGGLE_IS_FETCHING, isFetching}\r\n};\r\ntype ToggleIsFetchingProgress = {\r\n    type: typeof TOGGLE_IS_FETCHING_PROGRESS\r\n    isFetching: boolean\r\n    userId: number\r\n}\r\nexport const toggleIsFetchingProgress = (isFetching: boolean, userId: number): ToggleIsFetchingProgress => {\r\n    return {type: TOGGLE_IS_FETCHING_PROGRESS, isFetching, userId}\r\n}\r\nexport const requestUsers = (currentPage: number, pageSize: number) => {\r\n    return async (dispatch: any) => {\r\n        dispatch(toggleIsFetching(true));\r\n        let data = await userAPI.getUsers(currentPage, pageSize);\r\n        dispatch(toggleIsFetching(false));\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setTotalUsersCount(data.totalCount));\r\n    }\r\n}\r\n\r\nconst followUnFollowFlow = async (dispatch: any, id: number, apiMethod: any, actionCreator: any) => {\r\n    dispatch(toggleIsFetchingProgress(true, id));\r\n    let data = await apiMethod(id);\r\n    if (data.resultCode == 0) {\r\n        dispatch(actionCreator(id))\r\n    }\r\n    dispatch(toggleIsFetchingProgress(false, id));\r\n}\r\n\r\nexport const deleteUser = (id: number) => {\r\n    return async (dispatch: any) => {\r\n        let apiMethod = followAPI.deleteUser.bind(id)\r\n        let actionCreator = unFollow;\r\n        followUnFollowFlow(dispatch, id, apiMethod, actionCreator);\r\n    }\r\n}\r\nexport const postUser = (id: number) => {\r\n    return async (dispatch: any) => {\r\n        let apiMethod = followAPI.postUser.bind(id)\r\n        let actionCreator = follow;\r\n        followUnFollowFlow(dispatch, id, apiMethod, actionCreator);\r\n    }\r\n    /*return async (dispatch) => {\r\n        dispatch(toggleIsFetchingProgress(true, id));\r\n        let data = await followAPI.postUser(id);\r\n        if (data.resultCode == 0) {\r\n            dispatch(follow(id))\r\n        }\r\n        dispatch(toggleIsFetchingProgress(false, id));\r\n    }*/\r\n}\r\n","import s from \"../Paginator/Paginator.module.css\";\r\nimport React, {useEffect, useState} from \"react\";\r\nimport DialogItem from \"../../Dialogs/DialogItem/DialogItem\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {Textarea} from \"../FormControls/FormControls\";\r\nimport {maxLengthCreator, requiredField} from \"../../../utils/validators/validators\";\r\n\r\nconst Paginator = (props) => {\r\n    let pagesCount = Math.ceil(props.totalUsersCount / props.pageSize);\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n    let thispage = 1;\r\n\r\n    let [startOfBlock, setStartOfBlock] = useState(startOfBlock = 1)\r\n    let [endOfBlock, setEndOfBlock] = useState(endOfBlock = 10)\r\n    let [someBlock, editSomeBlock] = useState(someBlock = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10])\r\n\r\n    let next = () => {\r\n        setEndOfBlock(endOfBlock += 10);\r\n        setStartOfBlock(startOfBlock += 10)\r\n        let newPages = pages.filter(item => item <= endOfBlock && item >= startOfBlock);\r\n        editSomeBlock(newPages);\r\n    }\r\n    let prev = () => {\r\n        setEndOfBlock(endOfBlock -= 10);\r\n        setStartOfBlock(startOfBlock -= 10)\r\n        let newPages = pages.filter(item => item <= endOfBlock && item >= startOfBlock);\r\n        editSomeBlock(newPages);\r\n    }\r\n    const onSubmit = (formData) => {\r\n        props.onPageChanged(formData.searchPage)\r\n    }\r\n    const maxLength4 = maxLengthCreator(4)\r\n    const searchPage = (props) => {\r\n        return (\r\n            <form onSubmit={props.handleSubmit}>\r\n                <div>\r\n                    <Field component={Textarea} name={'searchPage'} validate={[requiredField, maxLength4]}\r\n                           placeholder={'Введите страницу'}/>\r\n                </div>\r\n                <div>\r\n                    <button>Поиск страницы</button>\r\n                </div>\r\n            </form>\r\n        )\r\n    }\r\n    const SearchPageForm = reduxForm({\r\n        form: \"searchPage\"\r\n    })(searchPage);\r\n    debugger\r\n    return (\r\n        <div>\r\n            <div>\r\n                {startOfBlock != 1 && <span onClick={prev} className={s.notActive}>Previous</span>}\r\n                {someBlock.map((d) => <span onClick={() => {\r\n                    props.onPageChanged(d)\r\n                }} className={props.currentPage == d ? s.current : s.notActive}> {d} </span>)}\r\n                {endOfBlock != pages.length && <span onClick={next} className={s.notActive}>Next</span>}\r\n            </div>\r\n            <div>\r\n                Введите номер страницы\r\n                <SearchPageForm initialValues={{value: props.currentPage}} onSubmit={onSubmit}/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default Paginator;\r\n/*\r\n\r\n\r\n    let mafs = () => {\r\n        for (let i = 1; i < pages.length; i++) {\r\n            if (props.currentPage == 1) return <div>\r\n            <span className={s.selectedPage} onClick={() => {\r\n                props.onPageChanged(i);\r\n            }}> {i} </span>\r\n                <span className={props.currentPage + 1 === i && s.selectedPage} onClick={() => {\r\n                    props.onPageChanged(i + 1);\r\n                }}> {i + 1} </span>\r\n                <span>...</span>\r\n                <span className={pages.length === i && s.selectedPage} onClick={() => {\r\n                    props.onPageChanged(pages.length);\r\n                }}>{pages.length}\r\n            </span>\r\n            </div>\r\n            if (props.currentPage == i) return <div><span className={props.currentPage - 1 === i && s.selectedPage}\r\n                                                          onClick={() => {\r\n                                                              props.onPageChanged(i - 1);\r\n                                                          }}> {i - 1} </span>\r\n                <span className={s.selectedPage} onClick={() => {\r\n                    props.onPageChanged(i);\r\n                }}> {i} </span>\r\n                <span className={props.currentPage + 1 === i && s.selectedPage} onClick={() => {\r\n                    props.onPageChanged(i + 1);\r\n                }}> {i + 1} </span>\r\n                <span>...</span>\r\n                <span className={pages.length === i && s.selectedPage} onClick={() => {\r\n                    props.onPageChanged(pages.length);\r\n                }}>{pages.length}\r\n            </span></div>\r\n\r\n            if (props.currentPage == pages.length-1) return <div><span onClick={() => {\r\n                props.onPageChanged(1);\r\n            }}> {1} </span>\r\n                <span>...</span>\r\n                <span onClick={() => {\r\n                    props.onPageChanged(pages.length - 3);\r\n                }}> {pages.length - 2} </span>\r\n                <span className={s.selectedPage} onClick={() => {\r\n                    props.onPageChanged(pages.length - 2);\r\n                }}> {pages.length - 1} </span>\r\n                <span onClick={() => {\r\n                    props.onPageChanged(pages.length);\r\n                }}> {pages.length}\r\n            </span></div>\r\n\r\n            if (props.currentPage == pages.length) return <div><span onClick={() => {\r\n                props.onPageChanged(1);\r\n            }}> {1} </span>\r\n                <span>...</span>\r\n                <span onClick={() => {\r\n                    props.onPageChanged(pages.length - 1);\r\n                }}> {pages.length - 1} </span>\r\n                <span className={s.selectedPage} onClick={() => {\r\n                    props.onPageChanged(pages.length);\r\n                }}> {pages.length}\r\n            </span></div>\r\n        }\r\n    }\r\n\r\n\r\n}*/","import React from 'react';\r\nimport s from './Users.module.css';\r\nimport userPhoto from \"../../asets/images/instami-avatarka-v-instagram-9.png\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {followAPI} from \"../../api/api\";\r\nimport {deleteUser} from \"../../redux/usersReducer\";\r\nimport {maxLengthCreator, requiredField} from \"../../utils/validators/validators\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {Textarea} from \"../common/FormControls/FormControls\";\r\nimport {Paginator} from \"../common/Paginator/Paginator\";\r\n\r\nconst User = ({user, followingInProgress, deleteUser, postUser}) => {\r\n    return (<div className={s.margin}>\r\n            <div className={s.wrapper}>\r\n                <div className={s.photo}>\r\n                    <NavLink to={'/profile/' + user.id}>\r\n                        <img src={user.photos.large != null ? user.photos.large : userPhoto} className={s.userPhoto}/>\r\n                    </NavLink>\r\n                </div>\r\n                <div className={s.name}>{user.name}</div>\r\n                <div className={s.city}>{user.id}</div>\r\n                <div className={s.status}>{user.status != null ? user.status : \"userStatus\"}</div>\r\n                <div className={s.button}>\r\n                    {user.followed\r\n                        ? <button disabled={followingInProgress.some(id => id == user.id)} onClick={() => {\r\n                            deleteUser(user.id)\r\n                        }}>Отписаться</button>\r\n                        : <button disabled={followingInProgress.some(id => id == user.id)} onClick={() => {\r\n                            postUser(user.id)\r\n                        }}>Подписаться</button>\r\n                    }\r\n                </div>\r\n                <div className={s.country}>{\"props.location.country\"}</div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default User;","import React from 'react';\r\nimport s from './Users.module.css';\r\nimport userPhoto from \"../../asets/images/instami-avatarka-v-instagram-9.png\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {followAPI} from \"../../api/api\";\r\nimport {deleteUser} from \"../../redux/usersReducer\";\r\nimport {maxLengthCreator, requiredField} from \"../../utils/validators/validators\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {Textarea} from \"../common/FormControls/FormControls\";\r\n\r\nimport User from \"./User\";\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\nconst Users = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.onPageChanged(formData.searchPage)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div>\r\n                Поиск по сайту\r\n                <Paginator currentPage={props.currentPage}\r\n                           onPageChanged={props.onPageChanged}\r\n                           totalUsersCount={props.totalUsersCount}\r\n                           pageSize={props.pageSize}\r\n                />\r\n            </div>\r\n            {props.users.map((u) => <User key={u.id}\r\n                                          className={s.margin}\r\n                                          user={u}\r\n                                          followingInProgress={props.followingInProgress}\r\n                                          deleteUser={props.deleteUser}\r\n                                          postUser={props.postUser}\r\n                />\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Users;","import {createSelector} from \"reselect\";\r\n\r\nexport const getUsers=(state)=>{\r\n    return state.usersPage.users;\r\n}\r\n\r\nexport const getUsersSelector=(state)=>{\r\n    return getUsers(state).users.filter(u=>true);\r\n}\r\n\r\nexport const getUsersSuperSelector = createSelector(getUsers, (users)=>{\r\n    return users.filter(u=>true);\r\n})\r\n\r\nexport const getPageSize=(state)=>{\r\n    return state.usersPage.pageSize;\r\n}\r\n\r\nexport const getTotalUsersCount=(state)=>{\r\n    return state.usersPage.totalUsersCount;\r\n}\r\n\r\nexport const getCurrentPage=(state)=>{\r\n    return state.usersPage.currentPage;\r\n}\r\n\r\nexport const getNumberChange=(state)=>{\r\n    return state.usersPage.totalUsersCount;\r\n}\r\n\r\nexport const getIsFetching=(state)=>{\r\n    return state.usersPage.isFetching;\r\n}\r\nexport const getFollowingInProgress=(state)=>{\r\n    return state.usersPage.followingInProgress;\r\n}","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    follow,\r\n    setUsers,\r\n    unFollow,\r\n    setCurrentPage,\r\n    setTotalUsersCount,\r\n    onNumberChange,\r\n    searchNumber,\r\n    toggleIsFetching, toggleIsFetchingProgress, requestUsers, deleteUser, postUser,\r\n} from \"../../redux/usersReducer\";\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingInProgress,\r\n    getIsFetching,\r\n    getNumberChange,\r\n    getPageSize, getTotalUsersCount, getUsersSuperSelector,\r\n} from \"../../redux/usersSelectors\";\r\n\r\nclass UsersAPIComponent extends React.Component {\r\n    /*constructor(props) {\r\n        super(props);\r\n        }\r\n    }*/\r\n    componentDidMount() {\r\n        let {currentPage, pageSize, requestUsers} = this.props\r\n        requestUsers(currentPage, pageSize);\r\n    }\r\n\r\n    onPageChanged = (pageNumber) => {\r\n        let {setCurrentPage, requestUsers, pageSize} = this.props\r\n        setCurrentPage(pageNumber);\r\n        requestUsers(pageNumber, pageSize);\r\n    }\r\n    onNumberChange = (e) => {\r\n        let {onNumberChange}=this.props\r\n        let number = e.target.value;\r\n        onNumberChange(number);\r\n    };\r\n    searchNumber = () => {\r\n        let {searchNumber, requestUsers, currentPage, pageSize} = this.props\r\n        searchNumber();\r\n        requestUsers(currentPage, pageSize);\r\n    };\r\n\r\n\r\n    render() {\r\n        return <>\r\n            {this.props.isFetching ? <Preloader/> : null}\r\n            <Users\r\n                totalUsersCount={this.props.totalUsersCount}\r\n                pageSize={this.props.pageSize}\r\n                currentPage={this.props.currentPage}\r\n                onPageChanged={this.onPageChanged}\r\n                searchNumber={this.searchNumber}\r\n                onNumberChange={this.onNumberChange}\r\n                numberChange={this.props.numberChange}\r\n                users={this.props.users}\r\n                unFollow={this.props.unFollow}\r\n                follow={this.props.follow}\r\n                followingInProgress={this.props.followingInProgress}\r\n                toggleIsFetchingProgress={this.props.toggleIsFetchingProgress}\r\n                deleteUser={this.props.deleteUser}\r\n                postUser={this.props.postUser}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\n/*let mapStateToProps = (state) => {\r\n    return {\r\n        totalUsersCount: state.usersPage.totalUsersCount,\r\n        pageSize: state.usersPage.pageSize,\r\n        users: state.usersPage.users,\r\n        currentPage: state.usersPage.currentPage,\r\n        numberChange: state.usersPage.numberChange,\r\n        isFetching: state.usersPage.isFetching,\r\n        followingInProgress: state.usersPage.followingInProgress,\r\n    }\r\n}*/\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        pageSize: getPageSize(state),\r\n        //users: getUsers(state),\r\n        users: getUsersSuperSelector(state),\r\n        currentPage: getCurrentPage(state),\r\n        numberChange: getNumberChange(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state),\r\n    }\r\n}\r\n/*let AuthRedirectComponent=withAuthRedirect(UsersAPIComponent)\r\nconst UsersContainer = connect(mapStateToProps, {\r\n    follow, unFollow, setUsers, setCurrentPage, setTotalUsersCount,\r\n    onNumberChange, searchNumber, toggleIsFetching, toggleIsFetchingProgress,\r\n    getUsers, deleteUser, postUser\r\n})(AuthRedirectComponent);*/\r\n\r\n//export default UsersContainer;\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {\r\n        follow, unFollow, setUsers, setCurrentPage, setTotalUsersCount,\r\n        onNumberChange, searchNumber, toggleIsFetching, toggleIsFetchingProgress,\r\n        requestUsers, deleteUser, postUser\r\n    }),\r\n   // withAuthRedirect,\r\n)(UsersAPIComponent)","import React from 'react';\r\nimport s from './Music.module.css';\r\n\r\nconst Music = (props) => {\r\n    return (\r\n        <div>\r\n        Music\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Music;","import React from 'react';\r\nimport s from './Header.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport userPhoto from \"../../asets/images/instami-avatarka-v-instagram-9.png\";\r\n\r\nconst Header = (props) => {\r\n    return <header className={s.header}>\r\n        <img src='https://www.freelogodesign.org/Content/img/logo-ex-7.png'/>\r\n        <div className={s.loginBlock}>\r\n            {props.isAuth ? <div className={s.wrapper}>\r\n                    <div className={s.item}><img src={props.smallPhoto == null ? userPhoto : props.smallPhoto}/></div>\r\n                    <div className={s.item}> {props.login}</div>\r\n                    <button className={s.item} onClick={props.LogoutAC}>Log out</button>\r\n                </div>\r\n                : <NavLink to=\"/login\" activeClassName={s.activeLink}>Login</NavLink>}\r\n        </div>\r\n    </header>\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport Header from \"./Header\";\r\nimport * as axios from \"axios\";\r\nimport {connect} from \"react-redux\";\r\nimport {LogoutAC} from \"../../redux/authReducer\";\r\n\r\n\r\nclass HeaderContainer extends React.Component {\r\n    render() {\r\n        return <Header {...this.props}/>\r\n    }\r\n}\r\n\r\nconst mapStatetoProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login,\r\n    id: state.auth.userId,\r\n});\r\nexport default connect(mapStatetoProps, {LogoutAC})(HeaderContainer);","import React from 'react';\r\nimport s from '../common/FormControls/FormControls.module.css';\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {Input, CreateField} from \"../common/FormControls/FormControls\";\r\nimport {requiredField} from \"../../utils/validators/validators\";\r\nimport {connect} from \"react-redux\";\r\nimport {getStatus, getUserProfile, updateStatus} from \"../../redux/profileReducer\";\r\nimport {LoginAC, LogoutAC} from \"../../redux/authReducer\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\n\r\nconst LoginForm = ({handleSubmit, error, captchaUrl}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            {CreateField(\"Email\", 'email', [requiredField], Input)}\r\n            {CreateField(\"Password\", 'password', [requiredField], Input, \"password\")}\r\n            {CreateField(null, 'rememberMe', null, Input, \"checkbox\", \"RememberMe\")}\r\n            {captchaUrl && <div><img src={captchaUrl}/>{CreateField(\"captcha\", 'captcha', [requiredField], Input)}</div>}\r\n            {error && <div className={s.formSummmayError}>\r\n                {error}\r\n            </div>}\r\n\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n\r\n    )\r\n}\r\nconst LoginReduxForm = reduxForm({\r\n    form: \"login\"\r\n})(LoginForm)\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.LoginAC(formData.email, formData.password, formData.rememberMe, formData.captcha)\r\n        console.log(formData)\r\n    }\r\n    if (props.isAuth) {\r\n        return <Redirect to='/profile'/>\r\n    } else return (\r\n        <div>\r\n            <h1>Login</h1>\r\n            <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nlet LoginRedirectComponent = withAuthRedirect(Login)\r\nlet mapStateToProps = (state) => ({\r\n    captchaUrl: state.auth.captchaUrl,\r\n    isAuth: state.auth.isAuth,\r\n})\r\nexport default connect(mapStateToProps, {LogoutAC, LoginAC})(Login);","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport {profileReducer} from \"./profileReducer\";\r\nimport {sidebarReducer} from \"./sidebarReducer\";\r\nimport {usersReducer} from \"./usersReducer\";\r\nimport {authReducer} from \"./authReducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport {reducer as formReducer} from 'redux-form';\r\nimport {appReducer} from \"./appReducer\";\r\nimport {dialogsReducer} from \"./dialogsReducer\";\r\n\r\nlet reducers=combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer,\r\n});\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n/*let store =createStore(reducers,\r\n    applyMiddleware(thunkMiddleware));*/\r\nwindow.__store__=store;\r\n\r\nexport default store;\r\n","import React, {Suspense} from 'react';\r\nimport Preloader from \"../components/common/Preloader/Preloader\";\r\n\r\nexport const withSuspense=(Component)=>{\r\n    return (props)=>{return (\r\n        <Suspense fallback={<Preloader/>}>\r\n            <Component {...props} />\r\n        </Suspense>\r\n        )\r\n    }\r\n}\r\n","import React from 'react';\r\nimport s from './Error404.module.css';\r\nimport error from \"../../../asets/svg/868843.svg\";\r\n\r\nconst Error404 = (props) => {\r\n    return (\r\n        <div>\r\n            <img className={s.error} src={error}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Error404;","import React, {Suspense} from 'react';\r\nimport './App.css';\r\nimport Navbar from './components/Navbar/Navbar';\r\nimport {HashRouter, BrowserRouter, Redirect, Route, Switch, withRouter} from \"react-router-dom\";\r\nimport Settings from \"./components/Settings/Settings\";\r\nimport News from \"./components/News/News\";\r\nimport UsersContainer from \"./components/Users/UsersContainer\";\r\nimport Music from \"./components/Music/Music\";\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport Login from \"./components/Login/Login\";\r\nimport {connect, Provider} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport {initializeApp, letError} from \"./redux/appReducer\";\r\nimport Preloader from \"./components/common/Preloader/Preloader\";\r\nimport store from \"./redux/reduxstore\";\r\nimport {withSuspense} from \"./hoc/withSuspense\";\r\nimport Error404 from \"./components/common/Error/Error404\";\r\nimport process from \"process\";\r\n\r\nconst DialogsContainer = React.lazy(() => import(\"./components/Dialogs/DialogsContainer\"));\r\nconst ProfileContainer = React.lazy(() => import(\"./components/Profile/ProfileContainer\"));\r\n\r\nclass App extends React.Component {\r\n    catchAllUnhandledErrors=(reason)=>{\r\n        //debugger\r\n        //letError(reason.reason)\r\n    }\r\n    componentDidMount() {\r\n        this.props.initializeApp();\r\n        window.addEventListener('unhandledrejection', this.catchAllUnhandledErrors)\r\n\r\n    }\r\n    componentWillUnmount() {\r\n        window.removeEventListener('unhandledrejection', this.catchAllUnhandledErrors)\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.initialized) {\r\n            return <Preloader/>\r\n        }\r\n        return (<div className='app-wrapper'>\r\n                <HeaderContainer/>\r\n                <Navbar/>\r\n                <div className=\"app-wrapper-content\">\r\n                    <Switch>\r\n                        <Route exact path=\"/\" render={withSuspense(ProfileContainer)}/>\r\n                        <Route path=\"/dialogs\" render={withSuspense(DialogsContainer)}/>\r\n                        <Route path=\"/profile/:userId?\" render={withSuspense(ProfileContainer)}/>\r\n                        <Route path=\"/users\" render={() => <UsersContainer/>}/>\r\n                        <Route path=\"/login\" render={() => <Login/>}/>\r\n                        <Route path=\"/music\" render={() => <Music/>}/>\r\n                        <Route path=\"/news\" render={() => <News/>}/>\r\n                        <Route path=\"/settings\" render={() => <Settings/>}/>\r\n                        <Route path=\"*\" render={() => <Error404/>}/>\r\n                    </Switch>\r\n\r\n                </div>\r\n                <div className='error'>{this.props.globalError}</div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    initialized: state.app.initialized,\r\n    globalError: state.app.globalError,\r\n})\r\nlet AppContainer = compose(\r\n    withRouter,\r\n    connect(mapStateToProps, {initializeApp, letError},\r\n    ))(App);\r\n\r\nconst SamuraiJSApp = (props) => {\r\n    return (\r\n        <HashRouter basename={process.env.PUBLIC_URL}>\r\n            <Provider store={store}>\r\n                <AppContainer/>\r\n            </Provider>\r\n        </HashRouter>\r\n\r\n    )\r\n}\r\nexport default SamuraiJSApp;","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport SamuraiJSApp from \"./App\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\n\r\nReactDOM.render(<SamuraiJSApp/>, document.getElementById('root'));\r\n\r\n//serviceWorker.unregister();\r\n//rerenderEntiretree();\r\n/*store.subscribe(rerenderEntiretree);*/\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__2yvhM\",\"dialog\":\"Dialogs_dialog__k930i\",\"dialogsItems\":\"Dialogs_dialogsItems__1eIO1\",\"active\":\"Dialogs_active__2jYKT\",\"messages\":\"Dialogs_messages__3cD4p\",\"message\":\"Dialogs_message__3I8nx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2v6Qh\",\"loginBlock\":\"Header_loginBlock__3uozL\",\"wrapper\":\"Header_wrapper__1sROT\",\"item\":\"Header_item__2DBve\"};","import {authMe, setAuthUserData, setUserSmallPhoto} from \"./authReducer\";\r\nimport {authAPI, profileAPI} from \"../api/api\";\r\nimport {constants} from \"os\";\r\n\r\nconst INITIALIZED_SUCCESS = \"INITIALIZED-SUCCESS\";\r\nconst ER = 'ERROR';\r\n\r\nexport type InitialStateType = {\r\n    initialized: boolean;\r\n    globalError: string;\r\n}\r\nlet initialState: InitialStateType = {\r\n    initialized: false,\r\n    globalError: \"\",\r\n};\r\n\r\nexport const appReducer = (state: InitialStateType = initialState, action: any): InitialStateType => {\r\n    switch (action.type) {\r\n        case ER:\r\n            debugger\r\n            return {\r\n                ...state,\r\n                globalError: action.error,\r\n            }\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true,\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\ntype InitializedSuccessActionType = { type: typeof INITIALIZED_SUCCESS }\r\n\r\nexport const initializedSuccess = (): InitializedSuccessActionType => {\r\n    return {type: INITIALIZED_SUCCESS}\r\n};\r\nexport const letError = (error: any) => {\r\n    debugger\r\n    ////////////////////////////////////////////////////alert(error)\r\n    return {\r\n        type: ER,\r\n        error: error\r\n    }\r\n};\r\nexport const thunkLetError = (error: any) => (dispatch: any) => {\r\n    debugger\r\n    dispatch(letError(error))\r\n    setTimeout(() => {\r\n        dispatch(letError(null))\r\n    }, 5000)\r\n}\r\n\r\ntype FirstDataType = {\r\n    resultCode: number;\r\n    data: {\r\n        id: number;\r\n        login: any;\r\n        email: any;\r\n    };\r\n}\r\ntype SecondDataType = {\r\n    photos: {\r\n        small: string;\r\n    }\r\n}\r\nexport const initializeApp = () => (dispatch: any) => {\r\n    let id: number;\r\n    let login;\r\n    let email;\r\n    authAPI.authMe().then((data: FirstDataType) => {\r\n        if (data.resultCode == 0) {\r\n            id = data.data.id;\r\n            login = data.data.login;\r\n            email = data.data.email;\r\n            dispatch(setAuthUserData(id, email, login, true));\r\n        }\r\n    }).then(() => {\r\n        profileAPI.getUser(id).then((data: SecondDataType) => {\r\n            dispatch(setUserSmallPhoto(data.photos.small));\r\n        })\r\n    }).then(() => {\r\n        dispatch(initializedSuccess());\r\n    });\r\n};\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControlError\":\"FormControls_formControlError__uemkh\",\"error\":\"FormControls_error__1WXK3\",\"formSummmayError\":\"FormControls_formSummmayError__3r7xW\"};","import React from 'react';\r\nimport s from './Preloader.module.css';\r\nimport preloader from \"../../../asets/svg/Double Ring-2.2s-200px.svg\";\r\n\r\nconst Preloader = (props) => {\r\n    return (\r\n        <div>\r\n            <img src={preloader}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Preloader;","module.exports = __webpack_public_path__ + \"static/media/instami-avatarka-v-instagram-9.47699637.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"current\":\"Paginator_current__2t5fU\",\"notActive\":\"Paginator_notActive__1bMe3\"};","import React from 'react';\r\nimport s from './Avatar.module.css';\r\n\r\nconst Avatar = (props) => {\r\n    return (\r\n        <div>\r\n            <span className={s.avatar}>\r\n                <img src={props.state.ava}/>\r\n            </span>\r\n            <span>{props.state.name}</span>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Avatar;","import React from 'react';\r\nimport s from './../Dialogs.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport Avatar from \"./Avatar/Avatar\";\r\n\r\nconst DialogItem = (props) => {\r\n    return (\r\n        <div className={s.dialog + ' ' + s.active}>\r\n            <NavLink to={\"/dialogs/\" + props.id}><Avatar state={props}/></NavLink>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DialogItem;","import {authAPI, profileAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\nimport {thunkLetError} from \"./appReducer\";\r\nimport {PhotosType, PostsType, ProfileType} from \"../types/types\";\r\n\r\nconst ADD_POST = \"ADD-POST\";\r\nconst SET_USER_PROFILE = \"SET-USER-PROFILE\";\r\nconst SET_STATUS = \"SET-STATUS\";\r\nconst DELETE_POST = \"DELETE-POST\";\r\nconst SAVE_PHOTO_SUCCESS = \"SAVE-PHOTO-SUCCESS\"\r\nconst UPDATE_PROFILE = \"UPDATE-PROFILE\"\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: 1, post: 'hi, how are you', likesCount: 1},\r\n        {id: 2, post: 'It`s my first post', likesCount: 2},\r\n    ]as Array<PostsType>,\r\n    profile: null as ProfileType| null,\r\n    status: \"\" as string,\r\n    newPostText: '',\r\n};\r\nexport type initialStateType = typeof initialState;\r\n\r\nexport const profileReducer = (state = initialState, action: any):initialStateType => {\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            let newPost = {\r\n                id: 3,\r\n                post: action.text,\r\n                likesCount: 0,\r\n            }\r\n            let stateCopy = {...state};\r\n            stateCopy.posts = [...state.posts];\r\n            stateCopy.posts.push(newPost);\r\n            return stateCopy;\r\n        }\r\n        case DELETE_POST: {\r\n            return {...state, posts: state.posts.filter(p => p.id != action.postId)}\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            return {...state, profile: action.profile}\r\n        }\r\n        case SET_STATUS: {\r\n            return {...state, status: action.status}\r\n        }\r\n        case SAVE_PHOTO_SUCCESS: {\r\n            return {...state, profile: {...state.profile, photos: action.photos} as ProfileType}\r\n        }\r\n        case UPDATE_PROFILE: {\r\n            return {...state, profile: {...state.profile, aboutMe:action.aboutMe,\r\n                                        contacts: action.contacts, lookingForAJob: action.lookingForAJob,\r\n                                        lookingForAJobDescription:action.lookingForAJobDescription} as ProfileType}\r\n        }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n    return state;\r\n}\r\n\r\ntype AddPostActionCreatorType = {\r\n    type: typeof ADD_POST;\r\n    text: string;\r\n}\r\n\r\nexport const addPostActionCreator = (text: string):AddPostActionCreatorType => {\r\n    return {\r\n        type: ADD_POST,\r\n        text,\r\n    }\r\n};\r\ntype DeletePostType = {\r\n    type: typeof DELETE_POST;\r\n    postId: number;\r\n}\r\nexport const deletePost = (postId: number): DeletePostType => {\r\n    return {type: DELETE_POST, postId}\r\n};\r\ntype SetStatusType = {\r\n    type: typeof SET_STATUS;\r\n    status: string;\r\n}\r\nexport const setStatus = (status: string): SetStatusType => {\r\n    return {\r\n        type: SET_STATUS,\r\n        status: status,\r\n    }\r\n};\r\ntype SetUserProfileType = {\r\n    type: typeof SET_USER_PROFILE;\r\n    profile: ProfileType;\r\n}\r\nconst setUserProfile = (profile: ProfileType): SetUserProfileType => { //////////////////////////////////////////any\r\n    return {type: SET_USER_PROFILE, profile}\r\n};\r\n\r\ntype UpdateProfileType = {\r\n    type: typeof UPDATE_PROFILE;\r\n    aboutMe: string;\r\n    contacts:{\r\n        github: string;\r\n        vk: string;\r\n        facebook: string;\r\n        instagram: string;\r\n        twitter: string;\r\n        website: string;\r\n        youtube: string;\r\n        mainLink: string;\r\n    };\r\n    lookingForAJobDescription: string;\r\n    lookingForAJob: boolean;\r\n}\r\nconst updateProfile = (aboutMe: string,\r\n                       contacts:{\r\n                           github: string;\r\n                           vk: string;\r\n                           facebook: string;\r\n                           instagram: string;\r\n                           twitter: string;\r\n                           website: string;\r\n                           youtube: string;\r\n                           mainLink: string;\r\n                       },\r\n                       lookingForAJobDescription: string,\r\n                       lookingForAJob: boolean): UpdateProfileType => {\r\n    return {type: UPDATE_PROFILE, aboutMe, contacts, lookingForAJobDescription, lookingForAJob}\r\n};\r\ntype SavePhotoSuccessType = {\r\n    type: typeof SAVE_PHOTO_SUCCESS;\r\n    photos: PhotosType;\r\n}\r\nconst savePhotoSuccess = (photos: PhotosType): SavePhotoSuccessType => {\r\n    return {type: SAVE_PHOTO_SUCCESS, photos}\r\n};\r\n\r\nexport const getUserProfile = (userId: number) => async (dispatch : any) => {\r\n    let data = await profileAPI.getUser(userId)\r\n    dispatch(setUserProfile(data));\r\n}\r\nexport const getStatus = (userId: number) => async (dispatch: any) => {\r\n    let data = await profileAPI.getStatus(userId)\r\n    if (data == null || data == \"\") dispatch(setStatus('Шалом'));\r\n    else dispatch(setStatus(data));\r\n}\r\nexport const updateStatus = (status: string) => async (dispatch: any) => {\r\n\r\n        let data = await profileAPI.updateStatus(status)\r\n        if (data.resultCode == 0) {\r\n            dispatch(setStatus(status));\r\n        }\r\n        if (data.resultCode !== 0){\r\n            debugger\r\n            dispatch(thunkLetError(`${data.messages[0]}+1`))\r\n        }\r\n}\r\n\r\nexport const savePhoto = (file: any) => async (dispatch: any) => {\r\n    let data = await profileAPI.savePhoto(file)\r\n    if (data.resultCode == 0) {\r\n        dispatch(savePhotoSuccess(data.data.photos.large));\r\n    }\r\n}\r\n\r\nexport const sendForm = (aboutMe: string,\r\n                         fullName: string,\r\n                         github: string,\r\n                         vk: string,\r\n                         facebook: string,\r\n                         instagram: string,\r\n                         twitter: string,\r\n                         website: string,\r\n                         youtube: string,\r\n                         mainLink: string,\r\n                         lookingForAJobDescription: string,\r\n                         lookingForAJob: boolean) => async (dispatch: any) => {\r\n    lookingForAJob==undefined ? lookingForAJob=false : lookingForAJob=true\r\n    let formData = {\r\n        aboutMe: aboutMe,\r\n            contacts: {\r\n            github: github,\r\n            vk: vk,\r\n            facebook: facebook,\r\n            instagram: instagram,\r\n            twitter: twitter,\r\n            website: website,\r\n            youtube: youtube,\r\n            mainLink: mainLink,\r\n        },\r\n        lookingForAJob: lookingForAJob,\r\n        lookingForAJobDescription: lookingForAJobDescription,\r\n        fullName: fullName,\r\n        userId: 12090,\r\n    }\r\n    let contacts= {\r\n            github: github,\r\n            vk: vk,\r\n            facebook: facebook,\r\n            instagram: instagram,\r\n            twitter: twitter,\r\n            website: website,\r\n            youtube: youtube,\r\n            mainLink: mainLink,\r\n        };\r\n    //dispatch (updateProfile(aboutMe, contacts, lookingForAJobDescription, lookingForAJob))\r\n    let data = await profileAPI.formData(formData);\r\n    if (data.resultCode == 0) dispatch (updateProfile(aboutMe, contacts, lookingForAJobDescription, lookingForAJob))\r\n    else {\r\n        dispatch(stopSubmit('profeleData', {_error: data.messages[0]}));\r\n       return Promise.reject(data.messages[0]);\r\n    }\r\n\r\n\r\n};\r\n","import {Redirect} from \"react-router-dom\";\r\nimport React from 'react';\r\nimport Dialogs from \"../components/Dialogs/Dialogs\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect=(state)=>({\r\n    isAuth:state.auth.isAuth,\r\n});\r\nexport const withAuthRedirect=(Component)=>{\r\n    class RedirectComponent extends React.Component{\r\n        render(){\r\n            if (!this.props.isAuth) return <Redirect to='/login'/>\r\n            return <Component {...this.props}/>\r\n        }\r\n    }\r\n\r\n    let ConnectedAuthRedirectComponent=connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n    return ConnectedAuthRedirectComponent\r\n}\r\n"],"sourceRoot":""}