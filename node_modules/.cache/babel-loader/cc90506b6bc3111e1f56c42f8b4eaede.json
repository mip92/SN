{"ast":null,"code":"var store = {\n  _state: {\n    profilePage: {\n      posts: [{\n        id: 1,\n        post: 'hi, how are you',\n        likesCount: 1\n      }, {\n        id: 2,\n        post: 'It`s my first post',\n        likesCount: 2\n      }],\n      newPostText: \"\"\n    },\n    dialogsPage: {\n      messages: [{\n        id: 1,\n        message: 'Hi'\n      }, {\n        id: 2,\n        message: 'How is your it-kamasutra?'\n      }, {\n        id: 3,\n        message: 'Yo'\n      }],\n      newMessageText: \"\",\n      dialogs: [{\n        id: 1,\n        name: 'Dimych',\n        ava: \"http://img1.reactor.cc/pics/post/full/anon-%D0%9A%D0%B0%D1%80%D1%82%D0%B8%D0%BD%D0%BA%D0%B0-2191131.jpeg\"\n      }, {\n        id: 2,\n        name: 'Andrey',\n        ava: \"https://klike.net/uploads/posts/2018-06/1528720172_1.jpg\"\n      }, {\n        id: 3,\n        name: 'Sveta',\n        ava: \"https://klike.net/uploads/posts/2018-06/1528720227_2.png\"\n      }, {\n        id: 4,\n        name: 'Sasha',\n        ava: \"https://klike.net/uploads/posts/2018-06/1528720246_5.jpg\"\n      }, {\n        id: 5,\n        name: 'Viktor',\n        ava: \"https://klike.net/uploads/posts/2018-06/1528720305_6.jpg\"\n      }, {\n        id: 6,\n        name: 'Valera',\n        ava: \"https://klike.net/uploads/posts/2018-06/1528720257_8.jpg\"\n      }, {\n        id: 7,\n        name: 'Sergey',\n        ava: \"https://funart.pro/uploads/posts/2020-05/1588322095_32-p-nyashnie-foni-na-rabochii-stol-69.png\"\n      }, {\n        id: 8,\n        name: 'Dimon',\n        ava: \"https://vjoy.cc/wp-content/uploads/2019/12/screenshot_3-min-13-640x570-1.png\"\n      }]\n    },\n    sidebar: {\n      friends: [{\n        id: 1,\n        name: 'Dimych',\n        ava: \"http://img1.reactor.cc/pics/post/full/anon-%D0%9A%D0%B0%D1%80%D1%82%D0%B8%D0%BD%D0%BA%D0%B0-2191131.jpeg\"\n      }, {\n        id: 2,\n        name: 'Andrey',\n        ava: \"https://klike.net/uploads/posts/2018-06/1528720172_1.jpg\"\n      }, {\n        id: 3,\n        name: 'Sveta',\n        ava: \"https://klike.net/uploads/posts/2018-06/1528720227_2.png\"\n      }, {\n        id: 4,\n        name: 'Sasha',\n        ava: \"https://klike.net/uploads/posts/2018-06/1528720246_5.jpg\"\n      }, {\n        id: 5,\n        name: 'Viktor',\n        ava: \"https://klike.net/uploads/posts/2018-06/1528720305_6.jpg\"\n      }, {\n        id: 6,\n        name: 'Valera',\n        ava: \"https://klike.net/uploads/posts/2018-06/1528720257_8.jpg\"\n      }, {\n        id: 7,\n        name: 'Sergey',\n        ava: \"https://funart.pro/uploads/posts/2020-05/1588322095_32-p-nyashnie-foni-na-rabochii-stol-69.png\"\n      }, {\n        id: 8,\n        name: 'Dimon',\n        ava: \"https://vjoy.cc/wp-content/uploads/2019/12/screenshot_3-min-13-640x570-1.png\"\n      }]\n    }\n  },\n  _callSubscriber: function _callSubscriber() {\n    console.log(\"state was changed\");\n  },\n  getState: function getState() {\n    return this._state;\n  },\n  subscribe: function subscribe(observer) {\n    this._callSubscriber = observer;\n  },\n  _addPost: function _addPost() {\n    var newPost = {\n      id: 3,\n      post: this._state.profilePage.newPostText,\n      likesCount: 0\n    };\n\n    this._state.profilePage.posts.push(newPost);\n\n    this._state.profilePage.newPostText = '';\n    debugger;\n\n    this._callSubscriber();\n  },\n  _addMessage: function _addMessage() {\n    var newMessage = {\n      id: 4,\n      message: this._state.dialogsPage.newMessageText\n    };\n\n    this._state.dialogsPage.messages.push(newMessage);\n\n    this._state.dialogsPage.newMessageText = '';\n\n    this._callSubscriber();\n  },\n  _updateNewMessageText: function _updateNewMessageText(newText) {\n    this._state.dialogsPage.newMessageText = newText;\n\n    this._callSubscriber();\n  },\n  _updateNewPostText: function _updateNewPostText(newText) {\n    debugger;\n    this._state.profilePage.newPostText = newText;\n\n    this._callSubscriber();\n  },\n  _getRandomArbitrary: function _getRandomArbitrary(min, max) {\n    var rand = min - 0.5 + Math.random() * (max - min + 1);\n    return Math.round(rand);\n  },\n  _getthreefriends: function _getthreefriends() {\n    var arr = this._state.sidebar.friends;\n\n    for (var i = arr.length; i > 3; i--) {\n      arr.splice(this._getRandomArbitrary(0, arr.length - 1), 1);\n    }\n\n    debugger;\n    return arr;\n  },\n  dispatch: function dispatch(action) {\n    if (action.type === 'ADD-POST') {\n      this._addPost();\n    } else if (action.type === \"UPDATE-NEW-POST-TEXT\") {\n      this._updateNewPostText(action.newText);\n    } else if (action.type === \"ADD-MESSAGE\") {\n      this._addMessage();\n    } else if (action.type === \"UPDATE-NEW-MESSAGE-TEXT\") {\n      this._updateNewMessageText(action.newText);\n    } else if (action.type === \"GET-THREE-FRIENDS\") {\n      this._getthreefriends();\n    }\n  }\n};\nexport default store;\nwindow.store = store;","map":{"version":3,"sources":["D:\\react-way-of-samurai\\src\\redux\\state.js"],"names":["store","_state","profilePage","posts","id","post","likesCount","newPostText","dialogsPage","messages","message","newMessageText","dialogs","name","ava","sidebar","friends","_callSubscriber","console","log","getState","subscribe","observer","_addPost","newPost","push","_addMessage","newMessage","_updateNewMessageText","newText","_updateNewPostText","_getRandomArbitrary","min","max","rand","Math","random","round","_getthreefriends","arr","i","length","splice","dispatch","action","type","window"],"mappings":"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","sourcesContent":["let store = {\r\n    _state: {\r\n        profilePage: {\r\n            posts: [\r\n                {id: 1, post: 'hi, how are you', likesCount: 1},\r\n                {id: 2, post: 'It`s my first post', likesCount: 2},\r\n            ],\r\n            newPostText: \"\",\r\n        },\r\n        dialogsPage: {\r\n            messages: [\r\n                {id: 1, message: 'Hi'},\r\n                {id: 2, message: 'How is your it-kamasutra?'},\r\n                {id: 3, message: 'Yo'},\r\n            ],\r\n            newMessageText: \"\",\r\n            dialogs: [\r\n                {\r\n                    id: 1,\r\n                    name: 'Dimych',\r\n                    ava: \"http://img1.reactor.cc/pics/post/full/anon-%D0%9A%D0%B0%D1%80%D1%82%D0%B8%D0%BD%D0%BA%D0%B0-2191131.jpeg\"\r\n                },\r\n                {id: 2, name: 'Andrey', ava: \"https://klike.net/uploads/posts/2018-06/1528720172_1.jpg\"},\r\n                {id: 3, name: 'Sveta', ava: \"https://klike.net/uploads/posts/2018-06/1528720227_2.png\"},\r\n                {id: 4, name: 'Sasha', ava: \"https://klike.net/uploads/posts/2018-06/1528720246_5.jpg\"},\r\n                {id: 5, name: 'Viktor', ava: \"https://klike.net/uploads/posts/2018-06/1528720305_6.jpg\"},\r\n                {id: 6, name: 'Valera', ava: \"https://klike.net/uploads/posts/2018-06/1528720257_8.jpg\"},\r\n                {\r\n                    id: 7,\r\n                    name: 'Sergey',\r\n                    ava: \"https://funart.pro/uploads/posts/2020-05/1588322095_32-p-nyashnie-foni-na-rabochii-stol-69.png\"\r\n                },\r\n                {\r\n                    id: 8,\r\n                    name: 'Dimon',\r\n                    ava: \"https://vjoy.cc/wp-content/uploads/2019/12/screenshot_3-min-13-640x570-1.png\"\r\n                },\r\n            ],\r\n        },\r\n        sidebar: {\r\n            friends: [\r\n                {\r\n                    id: 1,\r\n                    name: 'Dimych',\r\n                    ava: \"http://img1.reactor.cc/pics/post/full/anon-%D0%9A%D0%B0%D1%80%D1%82%D0%B8%D0%BD%D0%BA%D0%B0-2191131.jpeg\"\r\n                },\r\n                {id: 2, name: 'Andrey', ava: \"https://klike.net/uploads/posts/2018-06/1528720172_1.jpg\"},\r\n                {id: 3, name: 'Sveta', ava: \"https://klike.net/uploads/posts/2018-06/1528720227_2.png\"},\r\n                {id: 4, name: 'Sasha', ava: \"https://klike.net/uploads/posts/2018-06/1528720246_5.jpg\"},\r\n                {id: 5, name: 'Viktor', ava: \"https://klike.net/uploads/posts/2018-06/1528720305_6.jpg\"},\r\n                {id: 6, name: 'Valera', ava: \"https://klike.net/uploads/posts/2018-06/1528720257_8.jpg\"},\r\n                {\r\n                    id: 7,\r\n                    name: 'Sergey',\r\n                    ava: \"https://funart.pro/uploads/posts/2020-05/1588322095_32-p-nyashnie-foni-na-rabochii-stol-69.png\"\r\n                },\r\n                {\r\n                    id: 8,\r\n                    name: 'Dimon',\r\n                    ava: \"https://vjoy.cc/wp-content/uploads/2019/12/screenshot_3-min-13-640x570-1.png\"\r\n                },\r\n            ],\r\n        },\r\n    },\r\n    _callSubscriber() {\r\n        console.log(\"state was changed\")\r\n    },\r\n\r\n    getState() {\r\n        return this._state;\r\n    },\r\n    subscribe(observer) {\r\n        this._callSubscriber = observer;\r\n    },\r\n\r\n    _addPost() {\r\n        let newPost = {\r\n            id: 3,\r\n            post: this._state.profilePage.newPostText,\r\n            likesCount: 0,\r\n        };\r\n        this._state.profilePage.posts.push(newPost);\r\n        this._state.profilePage.newPostText = '';\r\n        debugger;\r\n        this._callSubscriber();\r\n    },\r\n    _addMessage() {\r\n        let newMessage = {\r\n            id: 4,\r\n            message: this._state.dialogsPage.newMessageText,\r\n        };\r\n        this._state.dialogsPage.messages.push(newMessage)\r\n        this._state.dialogsPage.newMessageText = '';\r\n        this._callSubscriber();\r\n    },\r\n    _updateNewMessageText(newText) {\r\n        this._state.dialogsPage.newMessageText = newText;\r\n        this._callSubscriber();\r\n    },\r\n    _updateNewPostText(newText) {\r\n        debugger;\r\n        this._state.profilePage.newPostText = newText;\r\n        this._callSubscriber();\r\n    },\r\n    _getRandomArbitrary(min, max) {\r\n        let rand = min - 0.5 + Math.random() * (max - min + 1);\r\n        return Math.round(rand);\r\n    },\r\n    _getthreefriends() {\r\n        let arr = this._state.sidebar.friends;\r\n        for (let i = arr.length; i > 3; i--) {\r\n            arr.splice(this._getRandomArbitrary(0, arr.length - 1), 1);\r\n        }\r\n        debugger\r\n        return arr;\r\n    },\r\n    dispatch(action) {\r\n        if (action.type === 'ADD-POST') {\r\n            this._addPost();\r\n        } else if (action.type === \"UPDATE-NEW-POST-TEXT\") {\r\n            this._updateNewPostText(action.newText);\r\n        } else if (action.type === \"ADD-MESSAGE\") {\r\n            this._addMessage();\r\n        } else if (action.type === \"UPDATE-NEW-MESSAGE-TEXT\") {\r\n            this._updateNewMessageText(action.newText);\r\n        } else if (action.type === \"GET-THREE-FRIENDS\") {\r\n            this._getthreefriends();\r\n        }\r\n    }\r\n}\r\nexport default store;\r\nwindow.store = store;"]},"metadata":{},"sourceType":"module"}