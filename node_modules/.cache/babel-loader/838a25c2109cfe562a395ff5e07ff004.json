{"ast":null,"code":"var _jsxFileName = \"D:\\\\react-way-of-samurai\\\\src\\\\components\\\\Users\\\\Users.tsx\";\nimport React, { useEffect } from 'react';\nimport Paginator from '../common/Paginator/Paginator';\nimport User from './User';\nimport { UsersSearchForm } from './UsersSearchForm';\nimport { requestUsers } from '../../redux/users-reducer';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getCurrentPage, getFollowingInProgress, getPageSize, getTotalUsersCount, getUsers, getUsersFilter } from '../../redux/users-selectors';\nexport const Users = props => {\n  const users = useSelector(getUsers);\n  const totalUsersCount = useSelector(getTotalUsersCount);\n  const currentPage = useSelector(getCurrentPage);\n  const pageSize = useSelector(getPageSize);\n  const filter = useSelector(getUsersFilter);\n  const followingInProgress = useSelector(getFollowingInProgress);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(requestUsers(currentPage, pageSize, filter));\n  }, []);\n\n  const onPageChanged = pageNumber => {\n    dispatch(requestUsers(pageNumber, pageSize, filter));\n  };\n\n  const onFilterChanged = filter => {\n    dispatch(requestUsers(1, pageSize, filter));\n  };\n\n  const follow = userId => {\n    dispatch(follow(userId));\n  };\n\n  const unfollow = userId => {\n    dispatch(unfollow(userId));\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(UsersSearchForm, {\n    onFilterChanged: onFilterChanged,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Paginator, {\n    currentPage: currentPage,\n    onPageChanged: onPageChanged,\n    totalItemsCount: totalUsersCount,\n    pageSize: pageSize,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, users.map(u => /*#__PURE__*/React.createElement(User, {\n    user: u,\n    followingInProgress: followingInProgress,\n    key: u.id,\n    unfollow: unfollow,\n    follow: follow,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 32\n    }\n  }))));\n};","map":{"version":3,"sources":["D:/react-way-of-samurai/src/components/Users/Users.tsx"],"names":["React","useEffect","Paginator","User","UsersSearchForm","requestUsers","useDispatch","useSelector","getCurrentPage","getFollowingInProgress","getPageSize","getTotalUsersCount","getUsers","getUsersFilter","Users","props","users","totalUsersCount","currentPage","pageSize","filter","followingInProgress","dispatch","onPageChanged","pageNumber","onFilterChanged","follow","userId","unfollow","map","u","id"],"mappings":";AAAA,OAAOA,KAAP,IAAmBC,SAAnB,QAAmC,OAAnC;AACA,OAAOC,SAAP,MAAsB,+BAAtB;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,SAAQC,eAAR,QAA8B,mBAA9B;AACA,SAAoBC,YAApB,QAAuC,2BAAvC;AACA,SAAQC,WAAR,EAAqBC,WAArB,QAAuC,aAAvC;AACA,SACIC,cADJ,EAEIC,sBAFJ,EAGIC,WAHJ,EAIIC,kBAJJ,EAKIC,QALJ,EAMIC,cANJ,QAOO,6BAPP;AAWA,OAAO,MAAMC,KAAoB,GAAIC,KAAD,IAAW;AAE3C,QAAMC,KAAK,GAAGT,WAAW,CAACK,QAAD,CAAzB;AACA,QAAMK,eAAe,GAAGV,WAAW,CAACI,kBAAD,CAAnC;AACA,QAAMO,WAAW,GAAGX,WAAW,CAACC,cAAD,CAA/B;AACA,QAAMW,QAAQ,GAAGZ,WAAW,CAACG,WAAD,CAA5B;AACA,QAAMU,MAAM,GAAGb,WAAW,CAACM,cAAD,CAA1B;AACA,QAAMQ,mBAAmB,GAAGd,WAAW,CAACE,sBAAD,CAAvC;AAEA,QAAMa,QAAQ,GAAGhB,WAAW,EAA5B;AAEAL,EAAAA,SAAS,CAAC,MAAM;AACZqB,IAAAA,QAAQ,CAACjB,YAAY,CAACa,WAAD,EAAcC,QAAd,EAAwBC,MAAxB,CAAb,CAAR;AACH,GAFQ,EAEN,EAFM,CAAT;;AAIA,QAAMG,aAAa,GAAIC,UAAD,IAAwB;AAC1CF,IAAAA,QAAQ,CAACjB,YAAY,CAACmB,UAAD,EAAaL,QAAb,EAAuBC,MAAvB,CAAb,CAAR;AACH,GAFD;;AAGA,QAAMK,eAAe,GAAIL,MAAD,IAAwB;AAC5CE,IAAAA,QAAQ,CAACjB,YAAY,CAAC,CAAD,EAAIc,QAAJ,EAAcC,MAAd,CAAb,CAAR;AACH,GAFD;;AAGA,QAAMM,MAAM,GAAIC,MAAD,IAAoB;AAC/BL,IAAAA,QAAQ,CAACI,MAAM,CAACC,MAAD,CAAP,CAAR;AACH,GAFD;;AAGA,QAAMC,QAAQ,GAAID,MAAD,IAAoB;AACjCL,IAAAA,QAAQ,CAACM,QAAQ,CAACD,MAAD,CAAT,CAAR;AACH,GAFD;;AAIA,sBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEH,oBAAC,eAAD;AAAiB,IAAA,eAAe,EAAEF,eAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFG,eAIH,oBAAC,SAAD;AAAW,IAAA,WAAW,EAAEP,WAAxB;AAAqC,IAAA,aAAa,EAAEK,aAApD;AACW,IAAA,eAAe,EAAEN,eAD5B;AAC6C,IAAA,QAAQ,EAAEE,QADvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJG,eAMH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEQH,KAAK,CAACa,GAAN,CAAUC,CAAC,iBAAI,oBAAC,IAAD;AAAM,IAAA,IAAI,EAAEA,CAAZ;AACM,IAAA,mBAAmB,EAAET,mBAD3B;AAEM,IAAA,GAAG,EAAES,CAAC,CAACC,EAFb;AAGM,IAAA,QAAQ,EAAEH,QAHhB;AAIM,IAAA,MAAM,EAAEF,MAJd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAf,CAFR,CANG,CAAP;AAkBH,CA9CM","sourcesContent":["import React, {FC, useEffect} from 'react'\r\nimport Paginator from '../common/Paginator/Paginator'\r\nimport User from './User'\r\nimport {UsersSearchForm} from './UsersSearchForm'\r\nimport {FilterType, requestUsers} from '../../redux/users-reducer'\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingInProgress,\r\n    getPageSize,\r\n    getTotalUsersCount,\r\n    getUsers,\r\n    getUsersFilter\r\n} from '../../redux/users-selectors'\r\n\r\ntype PropsType = {}\r\n\r\nexport const Users: FC<PropsType> = (props) => {\r\n\r\n    const users = useSelector(getUsers)\r\n    const totalUsersCount = useSelector(getTotalUsersCount)\r\n    const currentPage = useSelector(getCurrentPage)\r\n    const pageSize = useSelector(getPageSize)\r\n    const filter = useSelector(getUsersFilter)\r\n    const followingInProgress = useSelector(getFollowingInProgress)\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    useEffect(() => {\r\n        dispatch(requestUsers(currentPage, pageSize, filter))\r\n    }, [])\r\n\r\n    const onPageChanged = (pageNumber: number) => {\r\n        dispatch(requestUsers(pageNumber, pageSize, filter))\r\n    }\r\n    const onFilterChanged = (filter: FilterType) => {\r\n        dispatch(requestUsers(1, pageSize, filter))\r\n    }\r\n    const follow = (userId: number) => {\r\n        dispatch(follow(userId));\r\n    }\r\n    const unfollow = (userId: number) => {\r\n        dispatch(unfollow(userId));\r\n    }\r\n\r\n    return <div>\r\n\r\n        <UsersSearchForm onFilterChanged={onFilterChanged}/>\r\n\r\n        <Paginator currentPage={currentPage} onPageChanged={onPageChanged}\r\n                   totalItemsCount={totalUsersCount} pageSize={pageSize}/>\r\n        <div>\r\n            {\r\n                users.map(u => <User user={u}\r\n                                     followingInProgress={followingInProgress}\r\n                                     key={u.id}\r\n                                     unfollow={unfollow}\r\n                                     follow={follow}\r\n                    />\r\n                )\r\n            }\r\n        </div>\r\n    </div>\r\n}\r\n"]},"metadata":{},"sourceType":"module"}