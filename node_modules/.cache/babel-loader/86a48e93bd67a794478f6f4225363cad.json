{"ast":null,"code":"import _toConsumableArray from \"D:\\\\react-way-of-samurai\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"D:\\\\react-way-of-samurai\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nvar FOLLOW = \"FOLLOW\";\nvar UNFOLLOW = \"UNFOLLOW\";\nvar SET_USERS = 'SET-USERS';\nvar SET_CURRENT_PAGE = 'SET-CURRENT-PAGE';\nvar SET_TOTAL_USERS_COUNT = 'SET-TOTAL-USERS-COUNT';\nvar ON_NUMBER_CHANGE = 'ON-NUMBER-CHANGE';\nvar SEARCH_NUMBER = 'SEARCH-NUMBER';\nvar initialState = {\n  users: [\n    /*\r\n    {\r\n        id: 1,\r\n        ava: 'http://zhaba.ru/storage-10667/images-4356/7da28183c1ca335727f6033007c24c3f_74356.gif',\r\n        followed: true,\r\n        fullName: 'Andry',\r\n        status: 'Сижу кушаю',\r\n        location: {city: 'Dnipro', country: 'Ukraine'}\r\n    },\r\n    {\r\n        id: 2,\r\n        ava: 'http://zhaba.ru/storage-10667/images-4356/2ec52d3e31cc84526b5c1b8d332bb5f2_74356.gif',\r\n        followed: false,\r\n        fullName: 'Viktoriya',\r\n        status: 'на море',\r\n        location: {city: 'Poltava', country: 'Ukraine'}\r\n    },\r\n    {\r\n        id: 3,\r\n        ava: 'http://zhaba.ru/storage-10667/images-4356/54c86b4b33e968bb15eeea983d72a850_74356.gif',\r\n        followed: true,\r\n        fullName: 'Natalia',\r\n        status: 'в астрале',\r\n        location: {city: 'Dnipro', country: 'Ukraine'}\r\n    },\r\n    {\r\n        id: 4,\r\n        ava: 'http://zhaba.ru/storage-10667/images-4356/05f88dffdf9a406fe9b0bee9df3160a5_74356.gif',\r\n        followed: false,\r\n        fullName: 'Dmitry',\r\n        status: 'я Сенсей',\r\n        location: {city: 'Minsk', country: 'Belarus'}\r\n    },\r\n    */\n  ],\n  pageSize: 5,\n  totalUsersCount: 0,\n  currentPage: 1,\n  numberChange: '',\n  isFetching: false\n};\nexport var usersReducer = function usersReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case FOLLOW:\n      return _objectSpread({}, state, {\n        users: state.users.map(function (u) {\n          if (u.id === action.userId) {\n            return _objectSpread({}, u, {\n              followed: true\n            });\n          }\n\n          debugger;\n          return u;\n        })\n      });\n\n    case UNFOLLOW:\n      return _objectSpread({}, state, {\n        users: state.users.map(function (u) {\n          if (u.id === action.userId) {\n            return _objectSpread({}, u, {\n              followed: false\n            });\n          }\n\n          debugger;\n          return u;\n        })\n      });\n\n    case SET_USERS:\n      {\n        return _objectSpread({}, state, {\n          users: _toConsumableArray(action.users)\n        });\n      }\n\n    case SET_CURRENT_PAGE:\n      {\n        return _objectSpread({}, state, {\n          currentPage: action.currentPage\n        });\n      }\n\n    case SET_TOTAL_USERS_COUNT:\n      {\n        return _objectSpread({}, state, {\n          totalUsersCount: action.totalCount\n        });\n      }\n\n    case ON_NUMBER_CHANGE:\n      {\n        return _objectSpread({}, state, {\n          numberChange: action.number\n        });\n      }\n\n    case SEARCH_NUMBER:\n      {\n        if (state.numberChange >= 1 && state.numberChange <= state.totalUsersCount / state.pageSize) {\n          return _objectSpread({}, state, {\n            currentPage: state.numberChange\n          });\n        } else {\n          return _objectSpread({}, state, {\n            currentPage: 1\n          });\n        }\n      }\n\n    default:\n      return state;\n  } //return state;\n\n};\nexport var followActionCreator = function followActionCreator(userId) {\n  return {\n    type: FOLLOW,\n    userId: userId\n  };\n};\nexport var unfollowActionCreator = function unfollowActionCreator(userId) {\n  return {\n    type: UNFOLLOW,\n    userId: userId\n  };\n};\nexport var setUsersActionCreator = function setUsersActionCreator(users) {\n  return {\n    type: SET_USERS,\n    users: users\n  };\n};\nexport var setCurrentPageActionCreator = function setCurrentPageActionCreator(currentPage) {\n  return {\n    type: SET_CURRENT_PAGE,\n    currentPage: currentPage\n  };\n};\nexport var setTotalUsersCountActionCreator = function setTotalUsersCountActionCreator(totalCount) {\n  return {\n    type: SET_TOTAL_USERS_COUNT,\n    totalCount: totalCount\n  };\n};\nexport var setOnNumberChangeActionCreator = function setOnNumberChangeActionCreator(number) {\n  return {\n    type: ON_NUMBER_CHANGE,\n    number: number\n  };\n};\nexport var setSearchNumberActionCreator = function setSearchNumberActionCreator() {\n  return {\n    type: SEARCH_NUMBER\n  };\n};","map":{"version":3,"sources":["D:\\react-way-of-samurai\\src\\redux\\usersReducer.js"],"names":["FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","ON_NUMBER_CHANGE","SEARCH_NUMBER","initialState","users","pageSize","totalUsersCount","currentPage","numberChange","isFetching","usersReducer","state","action","type","map","u","id","userId","followed","totalCount","number","followActionCreator","unfollowActionCreator","setUsersActionCreator","setCurrentPageActionCreator","setTotalUsersCountActionCreator","setOnNumberChangeActionCreator","setSearchNumberActionCreator"],"mappings":"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","sourcesContent":["const FOLLOW = \"FOLLOW\";\r\nconst UNFOLLOW = \"UNFOLLOW\";\r\nconst SET_USERS='SET-USERS';\r\nconst SET_CURRENT_PAGE='SET-CURRENT-PAGE';\r\nconst SET_TOTAL_USERS_COUNT='SET-TOTAL-USERS-COUNT';\r\nconst ON_NUMBER_CHANGE='ON-NUMBER-CHANGE';\r\nconst SEARCH_NUMBER='SEARCH-NUMBER';\r\n\r\n\r\nlet initialState = {\r\n    users: [\r\n        /*\r\n        {\r\n            id: 1,\r\n            ava: 'http://zhaba.ru/storage-10667/images-4356/7da28183c1ca335727f6033007c24c3f_74356.gif',\r\n            followed: true,\r\n            fullName: 'Andry',\r\n            status: 'Сижу кушаю',\r\n            location: {city: 'Dnipro', country: 'Ukraine'}\r\n        },\r\n        {\r\n            id: 2,\r\n            ava: 'http://zhaba.ru/storage-10667/images-4356/2ec52d3e31cc84526b5c1b8d332bb5f2_74356.gif',\r\n            followed: false,\r\n            fullName: 'Viktoriya',\r\n            status: 'на море',\r\n            location: {city: 'Poltava', country: 'Ukraine'}\r\n        },\r\n        {\r\n            id: 3,\r\n            ava: 'http://zhaba.ru/storage-10667/images-4356/54c86b4b33e968bb15eeea983d72a850_74356.gif',\r\n            followed: true,\r\n            fullName: 'Natalia',\r\n            status: 'в астрале',\r\n            location: {city: 'Dnipro', country: 'Ukraine'}\r\n        },\r\n        {\r\n            id: 4,\r\n            ava: 'http://zhaba.ru/storage-10667/images-4356/05f88dffdf9a406fe9b0bee9df3160a5_74356.gif',\r\n            followed: false,\r\n            fullName: 'Dmitry',\r\n            status: 'я Сенсей',\r\n            location: {city: 'Minsk', country: 'Belarus'}\r\n        },\r\n    */\r\n    ],\r\n    pageSize: 5,\r\n    totalUsersCount:0,\r\n    currentPage: 1,\r\n    numberChange:'',\r\n    isFetching: false,\r\n};\r\n\r\nexport const usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userId) {\r\n                        return {...u, followed: true}\r\n                    }\r\n                    debugger\r\n                    return u;\r\n                })\r\n            }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userId) {\r\n                        return {...u, followed: false}\r\n                    }\r\n                    debugger\r\n                    return u;\r\n                })\r\n            }\r\n        case SET_USERS: {\r\n            return {\r\n                ...state, users: [...action.users]\r\n            }\r\n        }\r\n        case SET_CURRENT_PAGE:{\r\n            return {...state, currentPage:action.currentPage}\r\n        }\r\n        case SET_TOTAL_USERS_COUNT:{\r\n            return {...state, totalUsersCount:action.totalCount}\r\n        }\r\n        case ON_NUMBER_CHANGE:{\r\n            return {...state, numberChange:action.number}\r\n        }\r\n        case SEARCH_NUMBER:{\r\n            if(state.numberChange>=1 && state.numberChange<=state.totalUsersCount/state.pageSize) {return {...state, currentPage:state.numberChange}}\r\n            else {return {...state, currentPage:1}}\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n    //return state;\r\n}\r\nexport const followActionCreator = (userId) => {\r\n    return {\r\n        type: FOLLOW,\r\n        userId,\r\n    }\r\n}\r\nexport const unfollowActionCreator = (userId) => {\r\n    return {\r\n        type: UNFOLLOW,\r\n        userId,\r\n    }\r\n}\r\nexport const setUsersActionCreator=(users)=>{return{type: SET_USERS, users}};\r\nexport const setCurrentPageActionCreator=(currentPage)=>{return{type: SET_CURRENT_PAGE, currentPage}};\r\nexport const setTotalUsersCountActionCreator=(totalCount)=>{return{type: SET_TOTAL_USERS_COUNT, totalCount}};\r\nexport const setOnNumberChangeActionCreator=(number)=>{return{type:ON_NUMBER_CHANGE,number}};\r\nexport const setSearchNumberActionCreator=()=>{return{type:SEARCH_NUMBER}}"]},"metadata":{},"sourceType":"module"}